
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-2"/>
    <title>Projekt IIS</title>
    <style type="text/css">
        table { border-collapse: collapse; }
        td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
        dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Galéria</h1> <!-- Nahradte názvem svého zadání -->

<dl>
    <dt>Autori</dt>
    <dd>Luká¹ Slouka <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
        <a href="mailto:xslouk02@stud.fit.vutbr.cz">xslouk02@stud.fit.vutbr.cz</a> -
        databázový subsystém, vytváranie jednotlivých podstránok
    </dd>
    <dd>Miroslav Cibulka <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
        <a href="mailto:xcibul10@stud.fit.vutbr.cz">xcibul10@stud.fit.vutbr.cz</a> - 
        správa u¾ívateµov, inicializácia frameworku a bootstrapu, delete
        a update template
    </dd>
    <dt>URL aplikace</dt>
    <dd><a href="http://www.stud.fit.vutbr.cz/~xautor01/IIS">http://www.stud.fit.vutbr.cz/~xautor01/IIS</a></dd>
</dl>

<h2>U¾ívatelia systému pre testovanie</h2>
<table>
<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>root@email.com</td><td>000000</td><td>Administrátor</td></tr>
<tr><td>employee@email.com</td><td>000000</td><td>Zamestnanec galérie</td></tr>
<tr><td>artist@email.com</td><td>artist</td><td>U¾ívateµ systému</td></tr>
</table>

<h2>Implementácia</h2>

<p>IS je implementovaný v anglickom jazyku</p>

<p>Pri implementácii bol vyu¾itý framework <b>Laravel</b>. Tento framework vyu¾íva
MVC model, v ktorom modely reprezentujú databázové relácie, views sú jednotlivé ¹tylizované
podstránky a controléry sú PHP triedy, ktoré preposielajú výsledky databázových operácií do
views, prípadne vykonávajú databázové operácie na základe podnetov z views.</p>

<h3>Use-case</h3>
<table>
<p>V¹etky kontroléry sa nachádzajú v zlo¾ke <i>App/Http/Controllers</i></p>
<tr><th>prípad u¾itia</th><th>typ uzivateµa</th><th>php script</th></tr>
<tr><td>vytváranie, upravovanie a ru¹enie miestností</td><td>admin</td><td>RoomController</td></tr>
<tr><td>vytváranie a ru¹enie expozièných miest</td><td>admin</td><td>SpotController</td></tr>
<tr><td>vytváranie, upravovanie a ru¹enie zamestnancov galérie</td><td>admin</td><td>EmployeeController</td></tr>
<tr><td>vytváranie, upravovanie a ru¹enie typov vybavenia expozièných miest</td><td>admin</td><td>EquipmentController</td></tr>
<tr><td>prezeranie v¹etkých zaplatených aj nezaplatených poplatkov</td><td>admin</td><td>PaymentController</td></tr>
<tr><td>upravovanie expozièných miest</td><td>admin, zamestnanec</td><td>SpotController</td></tr>
<tr><td>vytváranie, upravovanie a ru¹enie umeleckých diel</td><td>zákazník</td><td>ArtworkController</td></tr>
<tr><td>vytváranie, upravovanie a ru¹enie expozícií</td><td>zákazník</td><td>ExpositionController</td></tr>
<tr><td>zaplatenie poplatkov za rezervovane expozicne miesta</td><td>zákazník</td><td>PaymentController</td></tr>
<tr><td>registrácia nového zákazníka</td><td>neprihlásený u¾ívateµ</td><td>AuthController</td></tr>
<tr><td>prehµad práve vystavených diel</td><td>v¹etci</td><td>HomeController</td></tr>
</table>

<p>Oproti pôvodnému návrhu sa zmenilo hlavne spracovanie autorov diel. Nakoµko ka¾dý u¾ívateµ pridáva diela do databázy sám, prièom rôzni u¾ívatelia mô¾u vklada» diela od toho istého autora, je nezmyselné aby ka¾dý u¾ívateµ vkladal do systému autorov predtým ne¾ vlo¾í dielo. Mohlo by to spôsobi» viacnásobné vlo¾enie toho istého autora do systému. Z tohoto hladiska bol autor implementovaný len ako atribút ka¾dého diela. (je pravda, ¾e aj diela mô¾u by» v systéme viac krát, pokiaµ sa zmení vlastnícstvo, diela sú v¹ak naviazané na zákazníkov a mô¾e s nimi pracova» len daný zákazník, èo nie je prípad autorov diel)</p>

<p>Implementácia platobného systému v IS je len symbolická, to znamená, ¾e po rezervácii expozièného miesta zákazníkom mu je vygenerovaný poplatok. Dátum splatnosti tohoto poplatku sa odvíja od dátumu expozície a suma od ceny expozièného miesta. Zákazník potom mô¾e na podstránke <i>payments</i>, odkliknú» poplatky, ktoré chce zaplati» (symbolická platba). V reálnom systéme by táto èinnos» bola napojená na bankový systém a IS by taktie¾ obsahoval automat, ktorý by overoval prijatie platieb a podobne.
</p>

<h3>Databázový model</h3>
<p>Pôvodný databázový návrh pre¹iel mnohými men¹ími zmenami hlavne èo sa týka integritných obmedzení tak, aby lep¹ie odrá¾al potrebnú funkcionalitu. Bol pridaný trigger, ktorý automaticky generuje nové poplatky po rezervácii expozièného miesta. Databáza dynamicky reaguje na vymazávanie záznamov, ktoré slú¾ia ako cudzie kµúèe (napríklad po vymazaní miestnosti sú vymazané aj v¹etky expozièné miesta pridelené do danej miestnosti...). Výnimku tvoria poplatky a expozície, ktoré ostávajú evidované v systéme aj po vymazaní u¾ívateµa.</p>

<h2>Instalace</h2>
<ul>
<li>Struènì popi¹te postup instalace na server</li>
<li>Softwarové po¾adavky (verze PHP apod.)</li>
<li>Jak rozbalit, konfigurovat, inicializovat databází, ...</li>
</ul>

<h2>Známé problémy</h2>
<p>Z èasových príèin nebolo implementované vyhµadávanie µubovoµných polo¾iek v databáze. U¾ívateµ v¹ak má napriek tomu prístup ku v¹etkým potrebným dátam v jednotlivých stránkach pri manipulácii s konkrétnou tabuµkou.</p>

</body>
</html>
